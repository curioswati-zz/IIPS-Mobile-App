module.exports = function(sequelize, DataType) {
  var Slot = sequelize.define("Slot",
    {
      Day: DataType.STRING
    },
    {
      instanceMethods: {
        retrieveById: function(slot_id, onSuccess, onError) {
          Slot.find({where: {id: slot_id}}, {raw: true})
          .success(onSuccess)
          .error(onError);
        },
        add: function(onSuccess, onError) {
          var Day = this.Day;

          Slot.build({ Day: Day })
          .save()
          .success(onSuccess)
          .error(onError);
        },
        updateById: function(slot_id, onSuccess, onError) {
          var id = slot_id;

          Slot.update({ Day: Day},
            {where: {id: slot_id} })
          .success(onSuccess)
          .error(onError);
        },
        removeById: function(slot_id, onSuccess, onError) {
          Slot.destroy({where: {id: slot_id}})
          .success(onSuccess)
          .error(onError);
        }
      },
      classMethods: {
        associate: function(models) {
<<<<<<< HEAD
          //Slot.belongsTo(models.Semester);
          Slot.belongsTo(models.TimeInterval);
=======
          Slot.belongsTo(models.Semester, { foreignKeyConstraint: true});
          Slot.belongsTo(models.TimeInterval, { foreignKeyConstraint: true});
          Slot.belongsTo(models.Subject, { foreignKeyConstraint: true});
>>>>>>> a6ebbc91a9ad89a17d1a8e13d94a7900a9edd3f2
        }
      }
    });

  return Slot;

};
